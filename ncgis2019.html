<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <title>New Open Source Tool for Plant Pest and Pathogen Spread Modeling</title>

        <meta name="description" content="PoPS talk for NCGIS 2019">
        <meta name="author" content="Vaclav Petras">

        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<link rel="shortcut icon" href="../img/favicon.png" />

        <link rel="stylesheet" href="css/reveal.css">
        <link rel="stylesheet" href="css/theme/ncsu-geoforall-lab.css" id="theme">

        <!-- For syntax highlighting -->
        <link rel="stylesheet" href="lib/css/zenburn.css">
        <!-- For chalkboard plugin -->
        <link rel="stylesheet" href="css/font-awesome.min.css">

        <!-- If the query includes 'print-pdf', include the PDF print sheet -->
        <!-- Printing and PDF exports -->
        <script>
            var link = document.createElement( 'link' );
            link.rel = 'stylesheet';
            link.type = 'text/css';
            link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
            document.getElementsByTagName( 'head' )[0].appendChild( link );
        </script>

        <!--[if lt IE 9]>
        <script src="lib/js/html5shiv.js"></script>
        <![endif]-->

        <style>
            body {
                background-image: url("../img/header.svg");
                background-repeat: repeat-x;
                background-position: left bottom;
                background-size: auto 10%;
            }

            .glow {
                text-shadow: 0 0 20px white, 0 0 18px white, 0 0 16px white, 0 0 14px white, 0 0 12px white, 0 0 10px white, 0 0 8px white, 0 0 6px white;
            }

            .reveal .box-glow {
                box-shadow: 0px 0px 15px 0px white, 0px 0px 10px 0px white, 0px 0px 5px 0px white;
            }

            /*
            table {
                margin: 10px;
                border-collapse: separate;
                border: none;
            }

            td {
                display: inline-block;
                border-radius: 5px;
                background-color: #369;
                color: green;
                border: 5px solid red;
            }*/

            .reveal .row-based td {
                border: none;
            }

            .row-based tr td:first-of-type {
                font-weight: bold;
            }
        </style>
    </head>

    <body>

        <div class="reveal">

            <!-- Any section element inside of this container is displayed as a slide -->
            <div class="slides">


<section>
<h2>New Open Source Tool for Plant Pest and Pathogen Spread Modeling</h2>
    <h3 style="margin-top: 0.5em">
        Vaclav (Vashek) Petras, Chris Jones, Anna Petrasova, Devon Gaydos, Kellyn P. Montgomery &amp; Ross&nbsp;K.&nbsp;Meentemeyer</h3>
    <p class="title-foot">
        <a href="http://geospatial.ncsu.edu/geoforall/" title="NCSU GeoForAll Lab">NCSU GeoForAll Lab</a>
        and
        <a href="https://geospatial.ncsu.edu/landscapedynamics/" title="NCSU Landscape Dynamics Group">Landscape Dynamics Group</a>
        <br>
        at the
        <a href="http://geospatial.ncsu.edu/" title="Center for Geospatial Analytics">Center for Geospatial Analytics</a>,
        <br>
        <a href="http://www.ncsu.edu/" title="North Carolina State University">North Carolina State University</a>
    </p>
    <p>
        NCGIS 2019 Winston-Salem<br>
        Feb 27 - Mar 1, 2019
    </p>
</section>


<section>
<h3>Motivation</h3>

<ul>
    <li>Plant diseases and pests threaten production of food and plant-based materials.
    <li>NCSU CGA &amp; USDA APHIS investigating the spread of pests and pathogens.
</ul>

<br>
<img src="img/spotted_lanternfly_grape.jpg" class="stretch">
<!-- TODO: Unclear picture origin -->

<blockquote style="width: 85%">
<small>
This work was made possible, in part, by a Cooperative Agreement from the United States Department of Agricultureâ€™s Animal and Plant Health Inspection Service (APHIS). It may not necessarily express the views of APHIS.
</small>
</blockquote>

</section>


<section class="textimg">
<h3>Research</h3>

<ul>
    <li>Sampling and other field work
    <li>Modeling
    <li>Software for modeling of the spread
    <li>Using the model for management 
    <li>Open source
    <li>Open science
</ul>

<img src="img/field_work_vp.jpg">
</section>


<section class="textimg">
<h3>PoPS Model</h3>

<div>
<p>
<em>Pest or Pathogen Spread Model</em>
</p>

<ul>
    <li>Spread of pests and pathogens over a landscape
                <small>(spatially explicit)</small>
    <li>Open source
    <li>Various ways of using it
    <li>Already in use
    <li>Actively developed
</ul>
</div>

<img src="img/pops_logo.png" alt="PoPS logo">

</section>


<section>
<h3>Mechanics</h3>
Generating dispersers (spores or insect)
<br>
<img src="img/model_generation.png" class="stretch">
</section>


<section>
<h3>Mechanics</h3>
Spreading the dispersers
<br>
<img src="img/model_spread.png" class="stretch">
</section>


<section>
<h3>Mechanics</h3>
Establishment of the dispersers
<br>
<img src="img/model_establishment.png" class="stretch">
</section>


<section>
<h3>Scenarios and Model Result</h3>
Spatial distribution of infected or infested hosts and spatial management input
<br>
<img src="img/spread_barrier.jpg" class="stretch">
</section>


<section>
<h3>Parts and Interfaces</h3>

<ul>
    <li>C++ Library
    <li>R Package
    <li>GRASS GIS Module
    <li>Tangible Landscape Application
</ul>

<br>

<img src="img/spread_probability_detail.jpg" class="stretch">

</section>


<section>
<h3>C++ Library</h3>
<ul>
    <li>Using C++ for performance reasons
        <ul>
            <li>R was too slow
            <li>R with Rcpp implementation was too slow
                <ul>
                    <li>Rcpp: Seamless R and C++ Integration
                </ul>
        </ul>
    <li>Using C++11
</ul>

<br>

<img src="img/cpp_logo.svg" class="stretch">

<p>
<a href="https://github.com/ncsu-landscape-dynamics/PoPS">github.com/ncsu-landscape-dynamics/PoPS</a>
</p>

</section>


<section>
<h3>C++</h3>
<ul>
    <li>What-if descriptions of languages:
    <ul>
        <li>Python: What if everything was a dictionary?
        <li>R: What if everything was of a different type?
        <li>C++: What if we added everything to one language?
        <li>C++11: What if we didn't know when to stop?
    </ul>
    <li>C++11 aims at being more convenient and friendlier to beginners
</ul>

<pre style="font-size: 94%;"><code>// creating simulation object
Raster&lt;int> infected = {{5, 0},
                        {0, 0}};
int ew_res = 30;
int ns_res = 30;
Simulation&ltRaster&lt;int>, Raster&lt;double>>
    simulation(42, infected, ew_res, ns_res);
</code></pre>

</section>


<section>
<h3>R Package</h3>

<ul>
    <li>Rcpp for accessing the C++ library from R
    <li>statistical functions
    <li>functions to implement calibration
    <li>preprocessing, postprocessing, visualization functions
</ul>

<br>

<img src="img/r_logo.svg" class="stretch">

<p>
<a href="https://github.com/ncsu-landscape-dynamics/rpops">github.com/ncsu-landscape-dynamics/rpops</a>
</p>

</section>


<section>
<h3>R Package: Usage</h3>

<pre style="font-size: 94%;"><code>host_file &lt;- system.file(..., "host.tif", ...)
# ...

data &lt;- pops(
    infected_file, host_file, ...
    reproductive_rate = 1.0,
    ...
    start_time = 2001, end_time = 2005)
</code></pre>

<p>Install:

<pre style="font-size: 70%;"><code>install.packages("devtools")
library(devtools)
devtools::install_github("ncsu-landscape-dynamics/rpops")
library(PoPS)
</code></pre>

</section>


<section>
<h3>GRASS GIS Module</h3>

<ul>
    <li>GRASS GIS interface to the C++ library written in C++
    <li>various user interface in GRASS GIS
    <li>tools for spatial analysis
    <li>preprocessing, postprocessing, visualization tools
    <li>published in GRASS GIS Addons repository
        <ul>
            <li><code>g.extension r.pops.spread</code>
        </ul>
</ul>

<br>

<img src="img/grass_gis_logo.svg" class="stretch">

<p>
<a href="https://github.com/ncsu-landscape-dynamics/r.pops.spread">github.com/ncsu-landscape-dynamics/r.pops.spread</a>
</p>

</section>


<section>
<h3>GRASS GIS Module: GUI</h3>

<em>Graphical user interface for PoPS</em>

<br>

<img src="img/grass_gis_gui.png" class="stretch">

</section>


<section>
<h3>GRASS GIS Module: Python</h3>

<em>Python interface for PoPS in GRASS GIS</em>

<br>

<pre style="font-size: 94%;"><code class="python">import grass.script as gs

gs.run_command('r.import', input='host.tif', ...)
# ...

gs.run_command('r.spread.sod', species='host', ...
               moisture_file='moistures.txt',
               temperature_file='temperatures.txt',
               start_time=2005, end_time=2010,
               rtype='cauchy', wind='NE', random_seed=42)
</code></pre>

</section>


<section>
<h3>GRASS GIS Module: Command line</h3>

<em>Command line (Bash) interface for PoPS in GRASS GIS</em>

<pre style="font-size: 94%;"><code class="bash">r.import input=host.tif ...
# ...

r.spread.sod species=lide lvtree=all infected=infected_2005 \
    moist_file=moistures.txt \
    temp_file=temperatures.txt \
    output=spread_sod start_time=2005 end_time=2010 \
    rtype=cauchy wind=NE rseed=4
</code></pre>

</section>


<section>
<h3>Tangible Landscape Application</h3>
<em>Low-barrier interface to the model</em>
<img src="img/sod_oregon_workshop.jpg" class="stretch">
<p>Sudden Oak Death Management Workshop, Oregon, 2017</p>
</section>


<section>
<h3>Open Science</h3>

<ul>
    <li>open source
        <ul>
            <li>availability
            <li>model is open source <small>(C++ core)</small>
            <li>dependencies are open source <small>(R or GRASS GIS)</small>
            <li>integrations are open source <small>(R and GRASS GIS interfaces)</small>
            <li>GNU GPL >=2
        </ul>
</ul>

<br>

<img src="img/open_science_logo_CC_BY-SA_Greg_Emmerich.gif" class="stretch">
<p class="credit">
    Image credit:
    <a href="https://www.flickr.com/photos/gemmerich/8732559382/in/photostream/">Open Science Logo v2</a>,
    CC BY-SA 3.0 Greg Emmerich
</p>

</section>


<section>
<h3>Open Science</h3>

<ul>
    <li>opportunities
        <ul>
            <li>available early (since the experimental phase, i.e. pre-release)
            <li>more applications of the model in research and management
            <li>open collaboration on improving the model
            <li>easier collaboration within our institution
        </ul>
</ul>

<br>

<img src="img/open_science_logo_CC_BY-SA_Greg_Emmerich.gif" class="stretch">
<p class="credit">
    Image credit:
    <a href="https://www.flickr.com/photos/gemmerich/8732559382/in/photostream/">Open Science Logo v2</a>,
    CC BY-SA 3.0 Greg Emmerich
</p>

</section>


<section>
<h3>Open Science</h3>

<ul>
    <li>review
        <ul>
            <li>the model can be scrutinized <small>(more than the traditional peer-review)</small>
            <li>review can be performed by anybody <small>(not just by scientists)</small>
        </ul>
</ul>

<br>

<img src="img/open_science_logo_CC_BY-SA_Greg_Emmerich.gif" class="stretch">
<p class="credit">
    Image credit:
    <a href="https://www.flickr.com/photos/gemmerich/8732559382/in/photostream/">Open Science Logo v2</a>,
    CC BY-SA 3.0 Greg Emmerich
</p>

</section>


<section>
<h3>Coming Soon</h3>

<ul>
    <li>Release 1.0.0
    <li>DOI
    <li>Tools for calibration and validation 
</ul>

<br>
<img src="img/spread_jump.jpg" class="stretch">

</section>


<section>
    <img src="img/pops_logo.png" alt="PoPS logo" class="stretch">
    <p>
        <!--
        <a href="https://github.com/ncsu-landscape-dynamics/PoPS/blob/master/README.md">github.com/ncsu-landscape-dynamics/PoPS</a>
        <br>
        -->
        <a href="https://ncsu-landscape-dynamics.github.io/pops-talk/ncgis2019.html">Slides: ncsu-landscape-dynamics.github.io/pops-talk</a>
    <p>
        <a href="https://geospatial.ncsu.edu/engage/">Official collaboration: geospatial.ncsu.edu/engage</a>
    <p>
        <a href="https://twitter.com/vaclavpetras/">Twitter: vaclavpetras</a>
        <br>
        <a href="https://github.com/wenzeslaus/">GitHub: wenzeslaus</a>
        <br>
        <a href="https://gitlab.com/vpetras/">GitLab: vpetras</a>
    </p>
    <p>Come to see the NCSU Center for Geospatial Analytics booth!</p>
</section>


        </div>  <!-- slides -->

    </div>  <!-- reveal -->

    <!--<img class="timeline" id="line" />-->

    <!--
        Home button or link to a parent page
        If you want this to be unique for every page (slide deck),
        then remove it from here and put it at the end of each
        file (or series of files) creating one page
        (the position will be little different)
        TODO: some JS is needed to move it to the right position
    -->
    <div class="parent-page">
        <!-- alternative symbol: &#x1f3e0; -->
        <a href=".." title="Course website">
            <img width="15px" src="img/home.svg"></a>
    </div>

        <script src="lib/js/head.min.js"></script>
        <script src="js/reveal.js"></script>

        <script>

            // Full list of configuration options available here:
            // https://github.com/hakimel/reveal.js#configuration
            Reveal.initialize({
                // Display controls in the bottom right corner
                controls: false,

                // Display a presentation progress bar
                progress: true,
                
                center: true,
                
                // Display the page number of the current slide
                slideNumber: false,

                // Enable the slide overview mode
                overview: true,

                // Turns fragments on and off globally
                fragments: true,

                // The "normal" size of the presentation, aspect ratio will be preserved
                // when the presentation is scaled to fit different resolutions. Can be
                // specified using percentage units.
                // width: 960,
                // height: 700,
                
                // Factor of the display size that should remain empty around the content
                margin: 0.05,  // increase?

                // Bounds for smallest/largest possible scale to apply to content
                minScale: 0.5,
                maxScale: 5.0,

                theme: Reveal.getQueryHash().theme,  // available themes are in /css/theme
                transition: Reveal.getQueryHash().transition || 'none', // default/cube/page/concave/zoom/linear/fade/none

                // Push each slide change to the browser history
                history: true,
                // Enable keyboard shortcuts for navigation
                keyboard: true,

                // Vertical centering of slides
                center: true,

                // Enables touch navigation on devices with touch input
                touch: true,

                // Loop the presentation
                loop: false,
                // Flags if the presentation is running in an embedded mode,
                // i.e. contained within a limited portion of the screen
                embedded: false,

                // Number of milliseconds between automatically proceeding to the
                // next slide, disabled when set to 0, this value can be overwritten
                // by using a data-autoslide attribute on your slides
                autoSlide: 0,

                // Stop auto-sliding after user input
                autoSlideStoppable: true,

                // Enable slide navigation via mouse wheel
                mouseWheel: false,

                // Hides the address bar on mobile devices
                hideAddressBar: true,

                // Opens links in an iframe preview overlay
                previewLinks: false,

                // Transition speed
                transitionSpeed: 'default', // default/fast/slow

                // Transition style for full page slide backgrounds
                backgroundTransition: 'none', // default/none/slide/concave/convex/zoom

                // Number of slides away from the current that are visible
                viewDistance: 3,

                // Parallax background image
                //parallaxBackgroundImage: '', // e.g. "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'"

                // Parallax background size
                //parallaxBackgroundSize: '' // CSS syntax, e.g. "2100px 900px"
                chalkboard: { 
        		// optionally load pre-recorded chalkboard drawing from file
            		src: "chalkboard.json",
            	},
                // Optional libraries used to extend on reveal.js
                dependencies: [
                    { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
                    { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
                    { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
                    { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },
                    /* { src: 'plugin/math/math.js', async: true }, */
                    { src: 'plugin/chalkboard/chalkboard.js' }
                ],
                keyboard: {
            	    67: function() { RevealChalkboard.toggleNotesCanvas() },	// toggle notes canvas when 'c' is pressed
            	    66: function() { RevealChalkboard.toggleChalkboard() },	// toggle chalkboard when 'b' is pressed
            	    46: function() { RevealChalkboard.clear() },	// clear chalkboard when 'DEL' is pressed
            	     8: function() { RevealChalkboard.reset() },	// reset chalkboard data on current slide when 'BACKSPACE' is pressed
            	    68: function() { RevealChalkboard.download() },	// downlad recorded chalkboard drawing when 'd' is pressed
            	},
            });

        </script>

    </body>
</html>
